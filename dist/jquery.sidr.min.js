/*! sidr - v3.0.0 - 2017-12-07
    http://www.berriart.com/sidr/
    * Copyright (c) 2013-2017 Alberto Varela; Licensed MIT */
!function(){"use strict";function e(e){return"status"===e?n:m[e]?m[e].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof e&&"string"!=typeof e&&e?void h.error("Method "+e+" does not exist on jQuery.sidr"):m.toggle.apply(this,arguments)}var n={moving:!1,opened:!1},t={isUrl:function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},addPrefixes:function(e){this.addPrefix(e,"id"),this.addPrefix(e,"class"),e.removeAttr("style")},addPrefix:function(e,n){var t=e.attr(n);"string"==typeof t&&""!==t&&"sidr-inner"!==t&&e.attr(n,t.replace(/([A-Za-z0-9_.-]+)/g,"sidr-"+n+"-$1"))},transitions:function(){var e=(document.body||document.documentElement).style,n=!1,t="transition";if(t in e)n=!0;else{var i=["moz","webkit","o","ms"],o=void 0,s=void 0;t=t.charAt(0).toUpperCase()+t.substr(1),n=function(){for(s=0;s<i.length;s++)if((o=i[s])+t in e)return!0;return!1}(),t=n?"-"+o.toLowerCase()+"-"+t.toLowerCase():null}return{supported:n,property:t}}()},i=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=jQuery,a="sidr-animating",d="open",r="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",u=function(){function e(n){i(this,e),this.name=n,this.item=s("#"+n),this.openClass="sidr"===n?"sidr-open":"sidr-open "+n+"-open",this.menuWidth=this.item.outerWidth(!0),this.speed=this.item.data("speed"),this.side=this.item.data("side"),this.displace=this.item.data("displace"),this.timing=this.item.data("timing"),this.method=this.item.data("method"),this.onOpenCallback=this.item.data("onOpen"),this.onCloseCallback=this.item.data("onClose"),this.onOpenEndCallback=this.item.data("onOpenEnd"),this.onCloseEndCallback=this.item.data("onCloseEnd"),this.body=s(this.item.data("body"))}return o(e,[{key:"getAnimation",value:function(e,n){var t={},i=this.side;return t[i]="open"===e&&"body"===n?this.menuWidth+"px":"close"===e&&"menu"===n?"-"+this.menuWidth+"px":0,t}},{key:"prepareBody",value:function(e){var n="open"===e?"hidden":"";if(this.body.is("body")){var t=s("html"),i=t.scrollTop();t.css("overflow-x",n).scrollTop(i)}}},{key:"openBody",value:function(){if(this.displace){var e=t.transitions,n=this.body;if(e.supported)n.css(e.property,this.side+" "+this.speed/1e3+"s "+this.timing).css(this.side,0).css({width:n.width(),position:"absolute"}),n.css(this.side,this.menuWidth+"px");else{var i=this.getAnimation(d,"body");n.css({width:n.width(),position:"absolute"}).animate(i,{queue:!1,duration:this.speed})}}}},{key:"onCloseBody",value:function(){var e=t.transitions,n={width:"",position:"",right:"",left:""};e.supported&&(n[e.property]=""),this.body.css(n).unbind(r)}},{key:"closeBody",value:function(){var e=this;if(this.displace)if(t.transitions.supported)this.body.css(this.side,0).one(r,function(){e.onCloseBody()});else{var n=this.getAnimation("close","body");this.body.animate(n,{queue:!1,duration:this.speed,complete:function(){e.onCloseBody()}})}}},{key:"moveBody",value:function(e){e===d?this.openBody():this.closeBody()}},{key:"onOpenMenu",value:function(e){var t=this.name;n.moving=!1,n.opened=t,this.item.unbind(r),this.body.removeClass(a).addClass(this.openClass),this.onOpenEndCallback(),"function"==typeof e&&e(t)}},{key:"openMenu",value:function(e){var n=this,i=this.item;if(t.transitions.supported)i.css(this.side,0).one(r,function(){n.onOpenMenu(e)});else{var o=this.getAnimation(d,"menu");i.css("display","block").animate(o,{queue:!1,duration:this.speed,complete:function(){n.onOpenMenu(e)}})}}},{key:"onCloseMenu",value:function(e){this.item.css({left:"",right:""}).unbind(r),s("html").css("overflow-x",""),n.moving=!1,n.opened=!1,this.body.removeClass(a).removeClass(this.openClass),this.onCloseEndCallback(),"function"==typeof e&&e(name)}},{key:"closeMenu",value:function(e){var n=this,i=this.item;if(t.transitions.supported)i.css(this.side,"").one(r,function(){n.onCloseMenu(e)});else{var o=this.getAnimation("close","menu");i.animate(o,{queue:!1,duration:this.speed,complete:function(){n.onCloseMenu()}})}}},{key:"moveMenu",value:function(e,n){this.body.addClass(a),e===d?this.openMenu(n):this.closeMenu(n)}},{key:"move",value:function(e,t){n.moving=!0,this.prepareBody(e),this.moveBody(e),this.moveMenu(e,t)}},{key:"open",value:function(t){var i=this;if(n.opened!==this.name&&!n.moving)if(!1===n.opened)this.move("open",t),this.onOpenCallback();else{new e(n.opened).close(function(){i.open(t)})}}},{key:"close",value:function(e){n.opened!==this.name||n.moving||(this.move("close",e),this.onCloseCallback())}},{key:"toggle",value:function(e){n.opened===this.name?this.close(e):this.open(e)}}]),e}(),l=jQuery,c=void 0,h=jQuery,p=["open","close","toggle"],f=void 0,m={},y=function(e){return function(n,t){"function"==typeof n?(t=n,n="sidr"):n||(n="sidr"),function(e,n,t){var i=new u(n);switch(e){case"open":i.open(t);break;case"close":i.close(t);break;case"toggle":i.toggle(t);break;default:l.error("Method "+e+" does not exist on jQuery.sidr")}}(e,n,t)}};for(c=0;c<p.length;c++)m[f=p[c]]=y(f);var v=jQuery;jQuery.sidr=e,jQuery.fn.sidr=function(i){var o=t.transitions,s=v.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,timing:"ease",method:"toggle",bind:"touchstart click",onOpen:function(){},onClose:function(){},onOpenEnd:function(){},onCloseEnd:function(){}},i),a=s.name,d=v("#"+a);return 0===d.length&&(d=v("<div />").attr("id",a).appendTo(v("body"))),o.supported&&d.css(o.property,s.side+" "+s.speed/1e3+"s "+s.timing),d.addClass("sidr").addClass("sidr-"+s.side).data({speed:s.speed,side:s.side,body:s.body,displace:s.displace,timing:s.timing,method:s.method,onOpen:s.onOpen,onClose:s.onClose,onOpenEnd:s.onOpenEnd,onCloseEnd:s.onCloseEnd}),d=function(e,n){if("function"==typeof n.source){var i=n.source(name);e.html(i)}else if("string"==typeof n.source&&t.isUrl(n.source))v.get(n.source,function(n){e.html(n)});else if("string"==typeof n.source){var o="",s=n.source.split(",");if(v.each(s,function(e,n){o+='<div class="sidr-inner">'+v(n).html()+"</div>"}),n.renaming){var a=v("<div />").html(o);a.find("*").each(function(e,n){var i=v(n);t.addPrefixes(i)}),o=a.html()}e.html(o)}else null!==n.source&&v.error("Invalid Sidr Source");return e}(d,s),this.each(function(){var t=v(this),i=!1;t.data("sidr")||(n.moving=!1,n.opened=!1,t.data("sidr",a),t.bind(s.bind,function(n){n.preventDefault(),i||(i=!0,e(s.method,a),setTimeout(function(){i=!1},100))}))})}}();
