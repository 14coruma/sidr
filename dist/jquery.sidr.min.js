/*! sidr - v1.2.1 - 2016-01-09
 * http://www.berriart.com/sidr/
 * Copyright (c) 2013-2016 Alberto Varela; Licensed MIT */
!function(a){var b,c,d=!1,e=!1,f={isUrl:function(a){var b=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return b.test(a)?!0:!1},loadContent:function(a,b){a.html(b)},addPrefix:function(a){var b=a.attr("id"),c=a.attr("class");"string"==typeof b&&""!==b&&a.attr("id",b.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof c&&""!==c&&"sidr-inner"!==c&&a.attr("class",c.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),a.removeAttr("style")},execute:function(b,c,f){"function"==typeof c?(f=c,c="sidr"):c||(c="sidr");var g,i,j,k=a("#"+c),l=a(k.data("body")),m=a("html"),n=k.outerWidth(!0),o=k.data("speed"),p=k.data("side"),q=k.data("displace"),r=k.data("onOpen"),s=k.data("onClose"),t="sidr"===c?"sidr-open":"sidr-open "+c+"-open";if("open"===b||"toggle"===b&&!k.is(":visible")){if(k.is(":visible")||d)return;if(e!==!1)return void h.close(e,function(){h.open(c)});d=!0,"left"===p?(g={left:n+"px"},i={left:"0px"}):(g={right:n+"px"},i={right:"0px"}),l.is("body")&&(j=m.scrollTop(),m.css("overflow-x","hidden").scrollTop(j)),q?l.addClass("sidr-animating").css({width:l.width(),position:"absolute"}).animate(g,o,function(){a(this).addClass(t)}):setTimeout(function(){a(this).addClass(t)},o),k.css("display","block").animate(i,o,function(){d=!1,e=c,"function"==typeof f&&f(c),l.removeClass("sidr-animating")}),r()}else{if(!k.is(":visible")||d)return;d=!0,"left"===p?(g={left:0},i={left:"-"+n+"px"}):(g={right:0},i={right:"-"+n+"px"}),l.is("body")&&(j=m.scrollTop(),m.removeAttr("style").scrollTop(j)),l.addClass("sidr-animating").animate(g,o).removeClass(t),k.animate(i,o,function(){k.removeAttr("style").hide(),l.removeAttr("style"),a("html").removeAttr("style"),d=!1,e=!1,"function"==typeof f&&f(c),l.removeClass("sidr-animating")}),s()}}},g=["open","close","toggle"],h={},i=function(a){return function(b,c){f.execute(a,b,c)}};for(b=0;b<=g.length;b++)c=g[b],h[c]=i(c);a.sidr=function(b){return h[b]?h[b].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof b&&"string"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.sidr"):h.toggle.apply(this,arguments)},a.fn.sidr=function(b){var c=a.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,onOpen:function(){},onClose:function(){}},b),d=c.name,e=a("#"+d);if(0===e.length&&(e=a("<div />").attr("id",d).appendTo(a("body"))),e.addClass("sidr").addClass(c.side).data({speed:c.speed,side:c.side,body:c.body,displace:c.displace,onOpen:c.onOpen,onClose:c.onClose}),"function"==typeof c.source){var g=c.source(d);f.loadContent(e,g)}else if("string"==typeof c.source&&f.isUrl(c.source))a.get(c.source,function(a){f.loadContent(e,a)});else if("string"==typeof c.source){var i="",j=c.source.split(",");if(a.each(j,function(b,c){i+='<div class="sidr-inner">'+a(c).html()+"</div>"}),c.renaming){var k=a("<div />").html(i);k.find("*").each(function(b,c){var d=a(c);f.addPrefix(d)}),i=k.html()}f.loadContent(e,i)}else null!==c.source&&a.error("Invalid Sidr Source");return this.each(function(){var b=a(this),c=b.data("sidr");c||(b.data("sidr",d),"ontouchstart"in document.documentElement?(b.bind("touchstart",function(a){this.touched=a.timeStamp}),b.bind("touchend",function(a){var b=Math.abs(a.timeStamp-this.touched);200>b&&(a.preventDefault(),h.toggle(d))})):b.click(function(a){a.preventDefault(),h.toggle(d)}))})}}(jQuery);